{% extends 'app/layout.html' %}
{% load static %}

{% block title %}–ü–æ—Å—Ç—ã{% endblock %}

{% block content %}
<div class="posts-page" style="
    margin-left: 10px; 
    padding: 30px;
    min-height: 100vh;
    background: linear-gradient(135deg, #2c3e50 0%, #1a2530 100%);
    color: white;
    position: relative;
">
    <!-- –ö–Ω–æ–ø–∫–∞ "–ù–∞ –≥–ª–∞–≤–Ω—É—é" —Å–ª–µ–≤–∞ —Å–≤–µ—Ä—Ö—É -->
    <a href="{% url 'About_page' %}" style="
        position: fixed;
        top: 60px;
        left: 80px;
        z-index: 1000;
        display: flex;
        align-items: center;
        background: rgba(102, 126, 234, 0.9);
        color: white;
        text-decoration: none;
        padding: 12px 25px;
        border-radius: 30px;
        font-weight: 700;
        font-size: 16px;
        box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        border: 2px solid rgba(255, 255, 255, 0.2);
        transition: all 0.3s ease;
        backdrop-filter: blur(10px);
    ">
        <svg style="width: 20px; height: 20px; margin-right: 10px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
        </svg>
        –ù–∞ –≥–ª–∞–≤–Ω—É—é
    </a>

    <!-- –®–∞–ø–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
    <div class="page-header" style="text-align: center; margin-bottom: 60px; padding-top: 20px;">
        <h1 style="
            font-size: 3.5rem;
            color: #fff;
            margin-bottom: 20px;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        ">
            üìù –í—Å–µ –ø–æ—Å—Ç—ã
        </h1>
        <p style="
            font-size: 1.2rem; 
            color: #a0aec0;
            max-width: 600px; 
            margin: 0 auto;
            opacity: 0.8;
        ">
            –ó–¥–µ—Å—å —Å–æ–±—Ä–∞–Ω—ã –≤—Å–µ –º–æ–∏ –º—ã—Å–ª–∏, –∏–¥–µ–∏ –∏ –∑–∞–º–µ—Ç–∫–∏
        </p>
        
        <!-- –°—á–µ—Ç—á–∏–∫ –ø–æ—Å—Ç–æ–≤ -->
        <div style="
            display: inline-block;
            background: rgba(102, 126, 234, 0.2);
            padding: 10px 25px;
            border-radius: 50px;
            margin-top: 20px;
            border: 2px solid rgba(102, 126, 234, 0.5);
        ">
            <span style="color: #667eea; font-weight: bold;">
                {{ posts|length }}
            </span> –ø–æ—Å—Ç–æ–≤ –Ω–∞ —Å–∞–π—Ç–µ
        </div>
    </div>

    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ø–æ—Å—Ç–æ–≤ -->
    <div class="posts-container" style="
        max-width: 1200px;
        margin: 0 auto;
    ">
        {% if posts %}
            <div class="posts-grid" style="
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
                gap: 30px;
            ">
                {% for el in posts %}
                <!-- –í–ï–°–¨ –±–ª–æ–∫ –ø–æ—Å—Ç–∞ –æ–±–µ—Ä–Ω—É—Ç –≤ —Å—Å—ã–ª–∫—É -->
                <a href="{% url 'post_detail' el.id %}" 
                   style="text-decoration: none; color: inherit; display: block;">
                    <div class="post-card" style="
                        background: rgba(45, 55, 72, 0.7);
                        backdrop-filter: blur(10px);
                        border-radius: 15px;
                        padding: 30px;
                        border: 1px solid rgba(102, 126, 234, 0.3);
                        transition: all 0.3s ease;
                        position: relative;
                        overflow: hidden;
                        cursor: pointer;
                        height: 100%;
                    ">
                        <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏ -->
                        <div style="
                            position: absolute;
                            top: 15px;
                            right: 15px;
                            color: rgba(102, 126, 234, 0.6);
                            font-size: 0.9rem;
                            display: flex;
                            align-items: center;
                            opacity: 0;
                            transition: opacity 0.3s;
                        ">
                            <svg style="width: 16px; height: 16px; margin-right: 5px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                            </svg>
                            –ß–∏—Ç–∞—Ç—å
                        </div>
                        
                        <!-- –¶–≤–µ—Ç–Ω–∞—è –ø–æ–ª–æ—Å–∞ -->
                        <div style="
                            position: absolute;
                            top: 0;
                            left: 0;
                            width: 6px;
                            height: 100%;
                            background: linear-gradient(180deg, #667eea 0%, #764ba2 100%);
                        "></div>
                        
                        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø–æ—Å—Ç–∞ -->
                        <h3 style="
                            font-size: 1.5rem;
                            color: #fff;
                            margin-bottom: 15px;
                            padding-left: 15px;
                            padding-right: 60px;
                        ">
                            {{ el.title }}
                        </h3>
                        
                        <!-- –¢–µ–∫—Å—Ç –ø–æ—Å—Ç–∞ (—É–∫–æ—Ä–æ—á–µ–Ω–Ω—ã–π) -->
                        <div style="
                            color: #a0aec0;
                            line-height: 1.6;
                            margin-bottom: 20px;
                            padding-left: 15px;
                            flex-grow: 1;
                        ">
                            {{ el.full_text|truncatewords:30|linebreaks }}
                        </div>
                        
                        <!-- –î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ -->
                        <div style="
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                            margin-top: 20px;
                            padding-top: 15px;
                            border-top: 1px solid rgba(255,255,255,0.1);
                            padding-left: 15px;
                        ">
                            <span style="
                                font-size: 0.9rem;
                                color: #718096;
                                display: flex;
                                align-items: center;
                            ">
                                <svg style="width: 16px; height: 16px; margin-right: 8px;" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"></path>
                                </svg>
                                {{ el.date|date:"d.m.Y H:i" }}
                            </span>
                            
                            <span style="
                                background: rgba(102, 126, 234, 0.2);
                                color: #667eea;
                                padding: 5px 15px;
                                border-radius: 20px;
                                font-size: 0.9rem;
                                font-weight: bold;
                            ">
                                –ü–æ—Å—Ç #{{ forloop.counter }}
                            </span>
                        </div>
                    </div>
                </a>
                {% endfor %}
            </div>
        {% else %}
            <!-- –ï—Å–ª–∏ –ø–æ—Å—Ç–æ–≤ –Ω–µ—Ç -->
            <div style="
                text-align: center;
                padding: 80px 20px;
                background: rgba(45, 55, 72, 0.5);
                border-radius: 15px;
                border: 2px dashed rgba(102, 126, 234, 0.3);
            ">
                <div style="font-size: 5rem; color: rgba(102, 126, 234, 0.3); margin-bottom: 20px;">
                    üìù
                </div>
                <h3 style="color: #a0aec0; margin-bottom: 15px;">
                    –ü–æ–∫–∞ –Ω–µ—Ç –ø–æ—Å—Ç–æ–≤
                </h3>
                <p style="color: #718096;">
                    –ù–æ —Å–∫–æ—Ä–æ –æ–Ω–∏ –ø–æ—è–≤—è—Ç—Å—è! –û–∂–∏–¥–∞–π—Ç–µ –Ω–æ–≤—ã—Ö –ø—É–±–ª–∏–∫–∞—Ü–∏–π.
                </p>
            </div>
        {% endif %}
    </div>
</div>

<style>
    /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–ù–∞ –≥–ª–∞–≤–Ω—É—é" –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
    a[href*="about"]:hover {
        background: rgba(118, 75, 162, 0.9);
        transform: translateX(-5px);
        box-shadow: 0 8px 25px rgba(102, 126, 234, 0.6);
    }

    /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ –ø–æ—Å—Ç–æ–≤ - –í–ï–°–¨ –±–ª–æ–∫ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–π */
    a:hover .post-card {
        transform: translateY(-10px);
        box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        border-color: rgba(102, 126, 234, 0.6);
    }
    
    a:hover .post-card > div:first-child {
        opacity: 1;
    }
    
    /* –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ */
    a:active .post-card {
        transform: translateY(-5px) scale(0.98);
        transition: transform 0.1s ease;
    }
    
    /* –ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫ */
    @keyframes cardAppear {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    .post-card {
        animation: cardAppear 0.5s ease-out;
        animation-fill-mode: both;
    }
    
    /* –ó–∞–¥–µ—Ä–∂–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏ */
    .posts-grid a:nth-child(1) .post-card { animation-delay: 0.1s; }
    .posts-grid a:nth-child(2) .post-card { animation-delay: 0.2s; }
    .posts-grid a:nth-child(3) .post-card { animation-delay: 0.3s; }
    .posts-grid a:nth-child(4) .post-card { animation-delay: 0.4s; }
    .posts-grid a:nth-child(5) .post-card { animation-delay: 0.5s; }
    
    /* –î–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
    @media (max-width: 768px) {
        a:hover .post-card {
            transform: translateY(-5px);
        }
        
        a:active .post-card {
            transform: translateY(-2px) scale(0.98);
        }
        
        .post-card > div:first-child {
            display: none;
        }
        
        h3 {
            padding-right: 15px !important;
        }
    }
</style>
{% endblock %}